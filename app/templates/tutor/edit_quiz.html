{% extends "base.html" %}
{% load static %}
{% block title %}Edit Quiz{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/edit_quiz.css' %}">
{% endblock %}

{% block content %}
<div class="container-fluid">
    <h2>Edit Quiz: {{ quiz.name }}</h2>
    
    <!-- Add Quiz Settings Section -->
    <div class="quiz-settings mb-4">
        <h4>Quiz Settings</h4>
        <form method="POST" class="settings-form">
            {% csrf_token %}
            <input type="hidden" name="action" value="update_settings">
            <div class="form-group">
                <label for="quiz_name">Quiz Name:</label>
                <input type="text" id="quiz_name" name="name" value="{{ quiz.name }}" class="form-control">
            </div>
            <div class="form-group">
                <label for="quiz_subject">Subject:</label>
                <input type="text" id="quiz_subject" name="subject" value="{{ quiz.subject }}" class="form-control">
            </div>
            <div class="form-check mb-3">
                <input type="checkbox" class="form-check-input" id="is_public" name="is_public" {% if quiz.is_public %}checked{% endif %}>
                <label class="form-check-label" for="is_public">Make Quiz Public</label>
                <small class="form-text text-muted">Public quizzes can be viewed by other tutors</small>
            </div>
            <button type="submit" class="btn btn-primary">Save Settings</button>
        </form>
    </div>

    <!-- Rest of your existing edit quiz content -->
    <div class="questions-container">
        <h4>Questions</h4>
        {% if questions %}
            {% for question in questions %}
                <!-- Your existing question display code -->
            {% endfor %}
        {% else %}
            <p>No questions added yet.</p>
        {% endif %}
    </div>
    
    <!-- Your existing question editor code -->
</div>
{% endblock %}