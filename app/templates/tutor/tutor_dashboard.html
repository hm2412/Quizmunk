<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutor Dashboard</title>
    <link rel="stylesheet" href="{% static 'css/tutor_dashboard.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script src="https://unpkg.com/htmx.org@1.8.4"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="tutor_container">
        <div class="sidebar">
            {% include 'partials/tutor_navbar.html' %}
        </div>
        <div class="tutor_content">
            <div class="dashboard-header">
                <h1>Welcome, Tutor!</h1> <!-- 'Tutor' should be replaced by their name -->
                <div class="profile-dropdown">
                    <button class="dropdown-btn">
                        <img src="https://www.gravatar.com/avatar/{{ user.gravatar_hash }}?s=200&d=identicon" alt="Profile Picture" class="gravatar">
                    </button>
                    <div class="dropdown-content">
                        <a href="{% url 'tutor_profile' %}">Profile</a>
                        <a href="{% url 'logout' %}">Log Out</a>
                    </div>
                </div>
            </div>
        <div class = "dashboard-top">
            <div class="dashboard_summary">
                <section>
                    <h2>Your Dashboard</h2>
                    <p>Create quizzes, manage rooms, and view student results here.</p>
                </section>
            </div>
            <div class="create-quiz-container">
                <a href="{% url 'create_quiz' %}" class="btn btn-primary create-quiz-btn">Create Quiz</a>
            </div>
        </div>
        <section>
            <h3>My Quizzes</h3>
            <div class="quiz-scroll-wrapper">
                <button class="scroll-btn left" onclick="scrollQuizzes(-1)">&#10094;</button>
                <button class="scroll-btn right" onclick="scrollQuizzes(1)">&#10095;</button>
                <div class="quiz-scroll-container">
                    <div class="card-group">
                        {% for quiz in quizzes %}
                            {% include 'partials/quiz_card.html' with quiz_img=quiz.quiz_img quiz_title=quiz.quiz_title quiz_description=quiz.quiz_description %}
                        {% endfor %}
                    </div>
                </div>
                
            </div>
        </section>        
            {% include 'partials/footer.html' %}
        </div>
    </div>
</body>
</html>
<script>
    function scrollQuizzes(direction) {
        const container = document.querySelector('.quiz-scroll-container');
        if (!container) return; // Safety check
    
        const scrollAmount = 300; // Adjust based on card width
        container.scrollBy({
            left: direction * scrollAmount,
            behavior: 'smooth'
        });
    }
</script>